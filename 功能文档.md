# 分布式加密聊天网络功能文档

## 1. 用户登录功能

### 1.1 功能概述

本系统采用类似比特币钱包的私钥导入登录机制，用户通过导入或生成私钥来完成身份认证。系统基于椭圆曲线密码学（secp256k1），使用BIP39协议将私钥转换为助记词，方便用户记忆和备份。

### 1.2 注册功能

#### 1.2.1 新用户注册流程
1. **随机生成私钥**
   - 系统使用安全随机数生成器创建256位私钥
   - 基于secp256k1椭圆曲线算法

2. **BIP39助记词生成**
   - 将私钥通过BIP39协议转换为12或24个助记词
   - 助记词使用标准英文词汇表，便于记忆和备份
   - 包含校验和确保词组正确性

3. **前端显示保存信息**
   - 在注册页面明显位置显示生成的私钥（十六进制格式）
   - 显示对应的助记词组合
   - 提供复制和打印功能方便用户保存
   - 强制用户确认已保存私钥和助记词才能继续

4. **派生公钥和用户名**
   - 从私钥自动计算对应的公钥
   - 将公钥哈希后作为用户的唯一标识（用户名）
   - 在用户主页显示此公钥地址

### 1.3 登录功能

#### 1.3.1 私钥导入登录
用户可通过以下方式导入已有私钥：

1. **助记词导入**（推荐方式）
   - 支持12词或24词BIP39助记词
   - 系统验证助记词的校验和
   - 从助记词恢复原始私钥

2. **十六进制私钥导入**
   - 直接输入64位十六进制私钥字符串
   - 验证私钥格式和有效性

3. **WIF格式导入**
   - 支持比特币钱包标准的WIF（Wallet Import Format）格式
   - 兼容现有比特币钱包导出的私钥

#### 1.3.2 登录后处理
1. **自动派生用户信息**
   - 从私钥计算对应公钥
   - 生成用户地址作为用户名显示在主页
   - 加载用户配置和聊天记录

2. **本地安全存储**
   - 私钥使用用户设置的密码进行AES-256加密
   - 只存储在本地设备，不上传到任何服务器
   - 支持快速登录（记住密码）

### 1.4 技术特点

- **去中心化**：无需注册服务器，用户完全控制自己的身份
- **匿名性**：公钥地址不包含任何个人信息
- **跨设备同步**：通过私钥或助记词可在任意设备登录
- **BIP39兼容**：与比特币等加密货币钱包标准兼容
- **安全性**：基于椭圆曲线密码学，私钥本地加密存储
